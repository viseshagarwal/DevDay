<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Web App Language Translate</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/universal-sentence-encoder"></script>
    <script>
      async function detectLanguage() {
        const model = await use.load();
        const text = document.getElementById("text_input").value;
        const embeddings = await model.embed(text);
        const predictions = await model.predict(embeddings);
        const detectedLanguage = predictions.indexOf(Math.max(...predictions));
        document.getElementById("source_language").value =
          detectedLanguage.toString();
      }
    </script>
  </head>
  <body>
    <h1>Web App Language Translate</h1>

    <form action="/" method="post">
      <textarea
        id="text_input"
        placeholder="Enter the text to translate"
      ></textarea>

      <input
        type="hidden"
        name="source_language"
        id="source_language"
        value=""
      />

      <label for="target_language">Select Target Language:</label>
      <select name="target_language" id="target_language">
        <option value="fr">French</option>
        <option value="es">Spanish</option>
        <option value="hi">Hindi</option>
        <!-- Add more language options as needed -->
      </select>

      <input type="submit" value="Translate" />
    </form>
    <div id="translated_text">
      {% if translated %}
      <h3>Original Text:</h3>
      <textarea readonly>{{ original }}</textarea>
      <h3>Translated Text:</h3>
      <textarea readonly>{{ translated }}</textarea>
      {% endif %}
    </div>
  </body>
</html>
